"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[162],{854:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(871);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var a=t(885),s=t(791),l=t(373),u=t(501),d=t(422),f={movieInfoBox:"MovieInfo_movieInfoBox__EyyTm",btnBack:"MovieInfo_btnBack__b58Rj",movieImgWrapper:"MovieInfo_movieImgWrapper__BCKlk",movieImg:"MovieInfo_movieImg__jcUpO",desc:"MovieInfo_desc__EAKnG",movieTitle:"MovieInfo_movieTitle__mBlYn",descTitle:"MovieInfo_descTitle__0kBGa",addInfoWrapper:"MovieInfo_addInfoWrapper__vc7Kr",addList:"MovieInfo_addList__oXc71",addListItem:"MovieInfo_addListItem__IsAgu"},p=t(768),v=t(184);function m(e){var n=e.locationObj,t=void 0===n?{pathname:"/",search:null}:n,c=(0,s.useState)(null),i=(0,a.Z)(c,2),m=i[0],h=i[1],_=(0,r.UO)().movieID,j=t.search,x=t.pathname;console.log(j,x);var b=p.Z.casts,g=p.Z.reviews,y=p.Z.movies,I=(0,r.s0)();return(0,s.useEffect)((function(){(0,d.Mc)(_).then((function(e){if(null!==e){var n=e.genres.map((function(e){return e.name})).join(" ");h(o(o({},e),{},{genresTitles:n}))}else h(null)}))}),[_]),(0,v.jsx)(v.Fragment,{children:m?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{className:f.btnBack,type:"button",onClick:function(){I("".concat(x).concat(j),{replace:!1})},children:"\ud83e\udc14 Go Back"}),(0,v.jsxs)("article",{className:f.movieInfo,children:[(0,v.jsxs)("div",{className:f.movieInfoBox,children:[m.poster_path?(0,v.jsx)("div",{className:f.movieImgWrapper,children:(0,v.jsx)("img",{className:f.movieImg,src:"".concat("https://image.tmdb.org/t/p/","w342/").concat(null===m||void 0===m?void 0:m.poster_path),alt:(null===m||void 0===m?void 0:m.title)||(null===m||void 0===m?void 0:m.name)})}):null,(0,v.jsxs)("div",{className:f.movieDesc,children:[(0,v.jsxs)("p",{className:f.movieTitle,children:[null===m||void 0===m?void 0:m.original_title," (",null===m||void 0===m?void 0:m.release_date.slice(0,4),")"]}),(0,v.jsxs)("p",{className:f.desc,children:["Rating: ",null===m||void 0===m?void 0:m.vote_average]}),(0,v.jsx)("p",{className:f.descTitle,children:"Overview"}),(0,v.jsx)("p",{className:f.desc,children:null===m||void 0===m?void 0:m.overview}),null!==m&&void 0!==m&&m.genresTitles?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("p",{className:f.descTitle,children:"Genres"}),(0,v.jsx)("p",{className:f.desc,children:null===m||void 0===m?void 0:m.genresTitles})]}):null]})]}),(0,v.jsxs)("div",{className:f.addInfoWrapper,children:[(0,v.jsx)("p",{className:f.descTitle,children:"Additional Information"}),(0,v.jsxs)("ul",{className:f.addList,children:[(0,v.jsx)("li",{className:f.addListItem,children:(0,v.jsx)(u.rU,{to:"/".concat(y,"/").concat(_,"/").concat(b),state:{from:t},children:"Casts"})}),(0,v.jsx)("li",{className:f.addListItem,children:(0,v.jsx)(u.rU,{to:"/".concat(y,"/").concat(_,"/").concat(g),state:{from:t},children:"Reviews"})})]})]})]}),(0,v.jsx)(s.Suspense,{fallback:(0,v.jsx)("div",{className:f.loader,children:(0,v.jsx)(l.VF,{})}),children:(0,v.jsx)(r.j3,{})})]}):null})}var h=t(240);function _(){var e=(0,r.TH)(),n=e.state.from;return console.log(e),(0,v.jsx)(h.Z,{children:(0,v.jsx)(m,{locationObj:n})})}},909:function(e,n,t){t.d(n,{Z:function(){return i}});t(791);var r="Container_container__VVOCq",c=t(184);function i(e){var n=e.children;return(0,c.jsx)("div",{className:r,children:n})}},240:function(e,n,t){t.d(n,{Z:function(){return s}});t(791);var r=t(909),c="Section_section__Z2PLw",i="Section_title__SLHvV",o="Section_hidden__x1r60",a=t(184);function s(e){var n=e.title,t=e.children;return(0,a.jsx)("section",{className:c,children:(0,a.jsxs)(r.Z,{children:[(0,a.jsx)("h1",{className:n?i:o,children:n}),t]})})}},422:function(e,n,t){t.d(n,{Bt:function(){return h},Mc:function(){return f},Xd:function(){return u},wr:function(){return s},y:function(){return v}});var r=t(861),c=t(757),i=t.n(c),o="5e1fcd47f20766d1df18c73f06c8901a",a="https://api.themoviedb.org/3/";function s(){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"trending/all/day?api_key=").concat(o)).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"search/movie?api_key=").concat(o,"&query=").concat(n,"&include_adult=false")).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"movie/").concat(n,"?api_key=").concat(o)).then((function(e){return e.ok?e.json():(alert("No detailed information"),null)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"movie/").concat(n,"/credits?api_key=").concat(o)).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"movie/").concat(n,"/reviews?api_key=").concat(o)).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=movie-info-view.f06b3f72.chunk.js.map