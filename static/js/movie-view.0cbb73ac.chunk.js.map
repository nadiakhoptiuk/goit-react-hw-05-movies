{"version":3,"file":"static/js/movie-view.0cbb73ac.chunk.js","mappings":"6OACA,EAAuB,yBAAvB,EAAwD,0BAAxD,EAAwF,wB,SCEzE,SAASA,EAAT,GAA0C,IAApBC,EAAmB,EAAnBA,gBACnC,GAAgCC,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KAmBA,OACE,kBAAMC,UAAWC,EAAQC,SAdN,SAAAC,GAGnB,GAFAA,EAAIC,iBAECN,EAASO,OAAd,CAKA,IAAMC,EAAcR,EAASO,OAAOE,MAAM,KAAKC,KAAK,KACpDZ,EAAgB,CAAEa,MAAOH,IACzBP,EAAY,SANVW,MAAM,wBAUR,WACE,kBACEV,UAAWC,EACXU,KAAK,OACLC,SAtBoB,SAAAT,GACxBJ,EAAYI,EAAIU,OAAOC,QAsBnBC,KAAK,eACLD,MAAOhB,EACPkB,WAAS,KAEX,mBAAQhB,UAAWC,EAAOU,KAAK,SAA/B,uBChCN,MAAyB,2BCSnBM,GAAYC,EAAAA,EAAAA,OAAK,kBACrB,gCAGa,SAASC,IACtB,OAAkCtB,EAAAA,EAAAA,UAAS,IAA3C,eAAOuB,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqB3B,EAArB,KAaA,OAVA4B,EAAAA,EAAAA,YAAU,WACR,IAAMf,EAAQc,EAAaE,IAAI,SAE1BhB,IAILiB,EAAAA,EAAAA,IAAqBjB,GAAOkB,MAAK,SAAAC,GAAG,OAAIP,EAAaO,EAAIC,cACxD,CAACN,KAGF,UAACO,EAAA,EAAD,YACE,SAACnC,EAAD,CAAYC,gBAAiBA,KAC7B,SAAC,EAAAmC,SAAD,CACEC,UACE,gBAAKhC,UAAWC,EAAhB,UACE,SAAC,KAAD,MAHN,UAOE,SAACgB,EAAD,CAAWgB,YAAab,W,+DCtChC,EAA4B,6B,SCEb,SAASc,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,OAAO,gBAAKnC,UAAWC,EAAhB,SAA8BkC,M,wECHvC,EAA0B,yBAA1B,EAA2D,uBAA3D,EAA2F,wB,SCI5E,SAASL,EAAT,GAAuC,IAApBM,EAAmB,EAAnBA,MAAOD,EAAY,EAAZA,SACvC,OACE,oBAASnC,UAAWC,EAApB,UACE,UAACiC,EAAA,EAAD,YACE,eAAIlC,UAAWoC,EAAQnC,EAAUA,EAAjC,SAA4CmC,IAC3CD,S,mLCVIE,EAAU,mCACVC,EAAW,gCAEjB,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,8FACQC,MAAM,GAAD,OAAIF,EAAJ,oCAAwCD,IAAWV,MACnE,SAAAC,GAAG,OAAIA,EAAIa,UAFR,0GAMA,SAAef,EAAtB,+CAAO,OAAP,oBAAO,WAAoCjB,GAApC,iFACQ+B,MAAM,GAAD,OACbF,EADa,gCACmBD,EADnB,kBACoC5B,EADpC,yBAEhBkB,MAAK,SAAAC,GAAG,OAAIA,EAAIa,UAHb,0GAMA,SAAeC,EAAtB,kC,aAAO,O,oBAAA,WAA8BC,GAA9B,iFACQH,MAAM,GAAD,OAAIF,EAAJ,iBAAqBK,EAArB,oBAAwCN,IAAWV,MACnE,SAAAC,GACE,OAAKA,EAAIgB,GAKFhB,EAAIa,QAJT/B,MAAM,2BACC,SALR,0GAyBA,SAAemC,EAAtB,+CAAO,OAAP,oBAAO,WAAyBF,GAAzB,iFACQH,MAAM,GAAD,OACbF,EADa,iBACIK,EADJ,4BAC+BN,IAC/CV,MAAK,SAAAC,GAAG,OAAIA,EAAIa,UAHb,0GAMA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAA4BH,GAA5B,iFACQH,MAAM,GAAD,OACbF,EADa,iBACIK,EADJ,4BAC+BN,IAC/CV,MAAK,SAAAC,GAAG,OAAIA,EAAIa,UAHb","sources":["webpack://goit-react-hw-05-movies/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.js","webpack://goit-react-hw-05-movies/./src/Views/MoviesView/MoviesView.module.css?3cae","Views/MoviesView/MoviesView.js","webpack://goit-react-hw-05-movies/./src/components/Container/Container.module.css?9f71","components/Container/Container.js","webpack://goit-react-hw-05-movies/./src/components/Section/Section.module.css?dbe8","components/Section/Section.js","service/service.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\",\"input\":\"SearchForm_input__HOxJo\",\"btn\":\"SearchForm_btn__TXrR3\"};","import { useState } from 'react';\nimport s from './SearchForm.module.css';\n\nexport default function SearchForm({ setSearchParams }) {\n  const [inputVal, setInputVal] = useState('');\n\n  const handleInputChange = evt => {\n    setInputVal(evt.target.value);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    if (!inputVal.trim()) {\n      alert('Enter correct title');\n      return;\n    }\n\n    const queryString = inputVal.trim().split(' ').join('+');\n    setSearchParams({ query: queryString });\n    setInputVal('');\n  };\n\n  return (\n    <form className={s.form} onSubmit={handleSubmit}>\n      <input\n        className={s.input}\n        type=\"text\"\n        onChange={handleInputChange}\n        name=\"searchPhrase\"\n        value={inputVal}\n        autoFocus\n      />\n      <button className={s.btn} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"MoviesView_loader__vxNHI\"};","import { lazy, Suspense } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { MutatingDots } from 'react-loader-spinner';\n\nimport { fetchMoviesByKeyword } from 'service/service';\nimport Section from '../../components/Section';\nimport SearchForm from '../../components/SearchForm';\nimport s from './MoviesView.module.css';\n\nconst MovieList = lazy(() =>\n  import('components/MovieList' /* webpackChunkName: \"movie-list\" */)\n);\n\nexport default function MoviesView() {\n  const [movielist, setMovielist] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  //\n\n  useEffect(() => {\n    const query = searchParams.get('query');\n\n    if (!query) {\n      return;\n    }\n\n    fetchMoviesByKeyword(query).then(res => setMovielist(res.results));\n  }, [searchParams]);\n\n  return (\n    <Section>\n      <SearchForm setSearchParams={setSearchParams} />\n      <Suspense\n        fallback={\n          <div className={s.loader}>\n            <MutatingDots />\n          </div>\n        }\n      >\n        <MovieList moviesArray={movielist} />\n      </Suspense>\n    </Section>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Container_container__VVOCq\"};","import React from 'react';\nimport s from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__Z2PLw\",\"title\":\"Section_title__SLHvV\",\"hidden\":\"Section_hidden__x1r60\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Container from '../Container';\nimport s from './Section.module.css';\n\nexport default function Section({ title, children }) {\n  return (\n    <section className={s.section}>\n      <Container>\n        <h1 className={title ? s.title : s.hidden}>{title}</h1>\n        {children}\n      </Container>\n    </section>\n  );\n}\n\nSection.propTypes = {\n  title: PropTypes.string,\n};\n","export const API_KEY = '5e1fcd47f20766d1df18c73f06c8901a';\nexport const BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport async function fetchTrendingMovies() {\n  return await fetch(`${BASE_URL}trending/all/day?api_key=${API_KEY}`).then(\n    res => res.json()\n  );\n}\n\nexport async function fetchMoviesByKeyword(query) {\n  return await fetch(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&include_adult=false`\n  ).then(res => res.json());\n}\n\nexport async function fetchMovieById(movieId) {\n  return await fetch(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}`).then(\n    res => {\n      if (!res.ok) {\n        alert('No detailed information');\n        return null;\n      }\n\n      return res.json();\n    }\n  );\n}\n\n// export async function fetchGetGenresList(array) {\n//   return await fetch(`${BASE_URL}genre/movie/list?api_key=${API_KEY}`)\n//     .then(res => res.json())\n//     .then(res => {\n//       const arrOfGenres = array.map(({ id }) => {\n//         return res.find(obj => obj.id === id); // TODO\n//       });\n//       console.log(arrOfGenres);\n//       return arrOfGenres?.map(obj => obj.name).join(' ');\n//     });\n// }\n\nexport async function fetchCast(movieId) {\n  return await fetch(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}`\n  ).then(res => res.json());\n}\n\nexport async function fetchReviews(movieId) {\n  return await fetch(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}`\n  ).then(res => res.json());\n}\n"],"names":["SearchForm","setSearchParams","useState","inputVal","setInputVal","className","s","onSubmit","evt","preventDefault","trim","queryString","split","join","query","alert","type","onChange","target","value","name","autoFocus","MovieList","lazy","MoviesView","movielist","setMovielist","useSearchParams","searchParams","useEffect","get","fetchMoviesByKeyword","then","res","results","Section","Suspense","fallback","moviesArray","Container","children","title","API_KEY","BASE_URL","fetchTrendingMovies","fetch","json","fetchMovieById","movieId","ok","fetchCast","fetchReviews"],"sourceRoot":""}