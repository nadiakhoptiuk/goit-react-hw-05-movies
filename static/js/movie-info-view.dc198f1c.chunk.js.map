{"version":3,"file":"static/js/movie-info-view.dc198f1c.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://goit-react-hw-05-movies/./src/components/MovieInfo/MovieInfo.module.css?df02","components/MovieInfo/MovieInfo.js","Views/MovieInfoView/MovieInfoView.js","webpack://goit-react-hw-05-movies/./src/components/Container/Container.module.css?9f71","components/Container/Container.js","webpack://goit-react-hw-05-movies/./src/components/Section/Section.module.css?dbe8","components/Section/Section.js","service/service.js"],"sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport default {\"movieInfoBox\":\"MovieInfo_movieInfoBox__EyyTm\",\"btnBack\":\"MovieInfo_btnBack__b58Rj\",\"movieImgWrapper\":\"MovieInfo_movieImgWrapper__BCKlk\",\"movieImg\":\"MovieInfo_movieImg__jcUpO\",\"desc\":\"MovieInfo_desc__EAKnG\",\"movieTitle\":\"MovieInfo_movieTitle__mBlYn\",\"descTitle\":\"MovieInfo_descTitle__0kBGa\",\"addInfoWrapper\":\"MovieInfo_addInfoWrapper__vc7Kr\",\"addList\":\"MovieInfo_addList__oXc71\",\"addListItem\":\"MovieInfo_addListItem__IsAgu\"};","import { Suspense } from 'react';\nimport { MutatingDots } from 'react-loader-spinner';\nimport { useEffect, useState } from 'react';\nimport { Link, Outlet, useParams } from 'react-router-dom';\nimport { fetchMovieById } from 'service/service';\nimport { useNavigate } from 'react-router-dom';\nimport s from './MovieInfo.module.css';\nimport constants from 'constants';\n\nexport default function MovieInfo({\n  locationObj = { pathname: '/', search: null },\n}) {\n  const [movie, setMovie] = useState(null);\n  const { movieID } = useParams();\n  const { search, pathname } = locationObj;\n\n  const { casts, reviews, movies } = constants;\n  const BASE_IMG_URL = 'https://image.tmdb.org/t/p/';\n  const navigate = useNavigate();\n\n  function handleGoBack() {\n    navigate(`${pathname}${search}`, { replace: false });\n  }\n\n  useEffect(() => {\n    function getGenresNames(array) {\n      return array\n        .map(genre => {\n          return genre.name;\n        })\n        .join(' ');\n    }\n\n    fetchMovieById(movieID).then(res => {\n      if (res === null) {\n        setMovie(null);\n        return;\n      }\n\n      const genresTitles = getGenresNames(res.genres);\n      setMovie({ ...res, genresTitles });\n    });\n  }, [movieID]);\n\n  return (\n    <>\n      {movie ? (\n        <>\n          <button className={s.btnBack} type=\"button\" onClick={handleGoBack}>\n            &#129044; Go Back\n          </button>\n\n          <article className={s.movieInfo}>\n            <div className={s.movieInfoBox}>\n              {movie.poster_path ? (\n                <div className={s.movieImgWrapper}>\n                  <img\n                    className={s.movieImg}\n                    src={`${BASE_IMG_URL}w342/${movie?.poster_path}`}\n                    alt={movie?.title || movie?.name}\n                  />\n                </div>\n              ) : null}\n              <div className={s.movieDesc}>\n                <p className={s.movieTitle}>\n                  {movie?.original_title} ({movie?.release_date.slice(0, 4)})\n                </p>\n                <p className={s.desc}>Rating: {movie?.vote_average}</p>\n                <p className={s.descTitle}>Overview</p>\n                <p className={s.desc}>{movie?.overview}</p>\n                {movie?.genresTitles ? (\n                  <>\n                    <p className={s.descTitle}>Genres</p>\n                    <p className={s.desc}>{movie?.genresTitles}</p>\n                  </>\n                ) : null}\n              </div>\n            </div>\n            <div className={s.addInfoWrapper}>\n              <p className={s.descTitle}>Additional Information</p>\n              <ul className={s.addList}>\n                <li className={s.addListItem}>\n                  <Link to={`/${movies}/${movieID}/${casts}`}>Casts</Link>\n                </li>\n                <li className={s.addListItem}>\n                  <Link to={`/${movies}/${movieID}/${reviews}`}>Reviews</Link>\n                </li>\n              </ul>\n            </div>\n          </article>\n          <Suspense\n            fallback={\n              <div className={s.loader}>\n                <MutatingDots />\n              </div>\n            }\n          >\n            <Outlet />\n          </Suspense>\n        </>\n      ) : null}\n    </>\n  );\n}\n","import { useLocation } from 'react-router-dom';\nimport MovieInfo from 'components/MovieInfo';\nimport Section from 'components/Section';\n\nexport default function MovieInfoView() {\n  const location = useLocation();\n\n  const from = location?.state?.from || { pathname: '/', search: '' };\n\n  return (\n    <Section>\n      <MovieInfo locationObj={from} />\n    </Section>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Container_container__VVOCq\"};","import React from 'react';\nimport s from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__Z2PLw\",\"title\":\"Section_title__SLHvV\",\"hidden\":\"Section_hidden__x1r60\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Container from '../Container';\nimport s from './Section.module.css';\n\nexport default function Section({ title, children }) {\n  return (\n    <section className={s.section}>\n      <Container>\n        <h1 className={title ? s.title : s.hidden}>{title}</h1>\n        {children}\n      </Container>\n    </section>\n  );\n}\n\nSection.propTypes = {\n  title: PropTypes.string,\n};\n","export const API_KEY = '5e1fcd47f20766d1df18c73f06c8901a';\nexport const BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport async function fetchTrendingMovies() {\n  return await fetch(`${BASE_URL}trending/all/day?api_key=${API_KEY}`).then(\n    res => res.json()\n  );\n}\n\nexport async function fetchMoviesByKeyword(query) {\n  return await fetch(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}&include_adult=false`\n  ).then(res => res.json());\n}\n\nexport async function fetchMovieById(movieId) {\n  return await fetch(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}`).then(\n    res => {\n      if (!res.ok) {\n        alert('No detailed information');\n        return null;\n      }\n\n      return res.json();\n    }\n  );\n}\n\n// export async function fetchGetGenresList(array) {\n//   return await fetch(`${BASE_URL}genre/movie/list?api_key=${API_KEY}`)\n//     .then(res => res.json())\n//     .then(res => {\n//       const arrOfGenres = array.map(({ id }) => {\n//         return res.find(obj => obj.id === id); // TODO\n//       });\n//       console.log(arrOfGenres);\n//       return arrOfGenres?.map(obj => obj.name).join(' ');\n//     });\n// }\n\nexport async function fetchCast(movieId) {\n  return await fetch(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}`\n  ).then(res => res.json());\n}\n\nexport async function fetchReviews(movieId) {\n  return await fetch(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}`\n  ).then(res => res.json());\n}\n"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","MovieInfo","locationObj","pathname","search","useState","movie","setMovie","movieID","useParams","casts","constants","reviews","movies","navigate","useNavigate","useEffect","fetchMovieById","then","res","genresTitles","genres","map","genre","name","join","className","s","type","onClick","replace","poster_path","src","alt","title","original_title","release_date","slice","vote_average","overview","to","Suspense","fallback","MovieInfoView","location","useLocation","from","state","Section","Container","children","API_KEY","BASE_URL","fetchTrendingMovies","fetch","json","fetchMoviesByKeyword","query","movieId","ok","alert","fetchCast","fetchReviews"],"sourceRoot":""}